<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Market Paid Media Audit Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        .data-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .platform-selector.active {
            border-bottom: 3px solid #3B82F6;
        }
        #map-container svg path:hover {
            fill-opacity: 0.7;
            stroke-width: 2px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="mb-10">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Cross-Market Paid Media Audit</h1>
            <p class="text-gray-600">Optimizing ROAS across 6 global markets | Data as of Q3 2023</p>
            <div class="flex flex-wrap gap-4 mt-4">
                <div class="bg-blue-50 text-blue-800 px-3 py-1 rounded-full text-sm inline-block">Meta Ads</div>
                <div class="bg-red-50 text-red-800 px-3 py-1 rounded-full text-sm inline-block">Google Ads</div>
                <div class="bg-pink-50 text-pink-800 px-3 py-1 rounded-full text-sm inline-block">TikTok Ads</div>
            </div>
        </header>

        <!-- Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="data-card bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-gray-500 text-sm">Total Spend</p>
                        <p class="text-2xl font-bold mt-1">$1.42M</p>
                    </div>
                    <div class="bg-blue-100 p-2 rounded-lg">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/99bde7a5-0293-4d30-94f4-5e635c8f7ba5.png" alt="Dollar sign icon representing total ad spend" class="w-6 h-6">
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-green-600 text-sm"><span class="font-medium">+8.2%</span> vs target</p>
                </div>
            </div>

            <div class="data-card bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-gray-500 text-sm">Avg ROAS</p>
                        <p class="text-2xl font-bold mt-1">3.8x</p>
                    </div>
                    <div class="bg-purple-100 p-2 rounded-lg">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0ad8383b-c3e7-4468-9d8d-c5eeaf0ec419.png" alt="Upward arrow icon representing ROAS growth" class="w-6 h-6">
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-red-600 text-sm"><span class="font-medium">-0.4x</span> vs Q2</p>
                </div>
            </div>

            <div class="data-card bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-gray-500 text-sm">Total Conversions</p>
                        <p class="text-2xl font-bold mt-1">28.5K</p>
                    </div>
                    <div class="bg-green-100 p-2 rounded-lg">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/817c85da-91a9-4185-9b04-f71bd6c13008.png" alt="Checkmark icon representing conversions" class="w-6 h-6">
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-green-600 text-sm"><span class="font-medium">+12.1%</span> YoY</p>
                </div>
            </div>

            <div class="data-card bg-white p-6 rounded-xl shadow-sm border border-gray-100 transition-all">
                <div class="flex justify-between items-start">
                    <div>
                        <p class="text-gray-500 text-sm">Avg. CPM</p>
                        <p class="text-2xl font-bold mt-1">$6.32</p>
                    </div>
                    <div class="bg-yellow-100 p-2 rounded-lg">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/a7f53bfd-103c-4589-a68b-27b169ce8286.png" alt="Eye icon representing cost per mille" class="w-6 h-6">
                    </div>
                </div>
                <div class="mt-4">
                    <p class="text-red-600 text-sm"><span class="font-medium">+11.5%</span> YoY</p>
                </div>
            </div>
        </div>

        <!-- Dashboard Controls -->
        <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                    <h2 class="font-semibold text-gray-800 mb-2">Date Range</h2>
                    <select class="border border-gray-200 rounded-lg px-4 py-2 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>Last 7 days</option>
                        <option selected>Last 30 days</option>
                        <option>Last quarter</option>
                        <option>Last 6 months</option>
                    </select>
                </div>

                <div class="flex items-center space-x-6">
                    <div>
                        <h2 class="font-semibold text-gray-800 mb-2">Platform</h2>
                        <div class="flex space-x-2">
                            <button class="platform-selector active px-4 py-2 rounded-lg text-sm font-medium transition-all" data-platform="all">All</button>
                            <button class="platform-selector px-4 py-2 rounded-lg text-sm font-medium text-gray-500 hover:text-gray-700 transition-all" data-platform="meta">Meta</button>
                            <button class="platform-selector px-4 py-2 rounded-lg text-sm font-medium text-gray-500 hover:text-gray-700 transition-all" data-platform="google">Google</button>
                            <button class="platform-selector px-4 py-2 rounded-lg text-sm font-medium text-gray-500 hover:text-gray-700 transition-all" data-platform="tiktok">TikTok</button>
                        </div>
                    </div>

                    <div>
                        <h2 class="font-semibold text-gray-800 mb-2">Attribution</h2>
                        <div class="flex space-x-2">
                            <button class="platform-selector active px-4 py-2 rounded-lg text-sm font-medium transition-all">Last-Click</button>
                            <button class="platform-selector px-4 py-2 rounded-lg text-sm font-medium text-gray-500 hover:text-gray-700 transition-all">Data-Driven</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            <!-- Geo Distribution -->
            <div class="bg-white p-6 rounded-xl shadow-sm lg:col-span-2">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="font-semibold text-gray-800 text-lg">Performance by Market</h2>
                    <button class="text-blue-600 text-sm font-medium">View all markets</button>
                </div>
                <div id="map-container" class="h-64 w-full">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/95fbb017-5bcf-4759-b00b-a2afbe57ce4d.png" alt="World map with color-coded performance metrics for 6 global markets highlighted" class="w-full h-full rounded-lg object-cover">
                </div>
                <div class="mt-6 grid grid-cols-2 md:grid-cols-6 gap-4">
                    <div class="text-center">
                        <div class="h-2 w-full bg-blue-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">USA</p>
                        <p class="text-sm font-bold">ROAS 4.2x</p>
                    </div>
                    <div class="text-center">
                        <div class="h-2 w-full bg-green-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">UK</p>
                        <p class="text-sm font-bold">ROAS 3.9x</p>
                    </div>
                    <div class="text-center">
                        <div class="h-2 w-full bg-yellow-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">Germany</p>
                        <p class="text-sm font-bold">ROAS 3.5x</p>
                    </div>
                    <div class="text-center">
                        <div class="h-2 w-full bg-orange-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">Australia</p>
                        <p class="text-sm font-bold">ROAS 3.1x</p>
                    </div>
                    <div class="text-center">
                        <div class="h-2 w-full bg-red-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">Japan</p>
                        <p class="text-sm font-bold">ROAS 2.8x</p>
                    </div>
                    <div class="text-center">
                        <div class="h-2 w-full bg-purple-500 rounded-full mb-1"></div>
                        <p class="text-xs font-medium">Canada</p>
                        <p class="text-sm font-bold">ROAS 4.0x</p>
                    </div>
                </div>
            </div>

            <!-- Platform Performance -->
            <div class="bg-white p-6 rounded-xl shadow-sm">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="font-semibold text-gray-800 text-lg">Platform ROAS Comparison</h2>
                    <div class="flex space-x-1">
                        <button class="text-blue-600 text-sm font-medium">All</button>
                        <span class="text-gray-400">|</span>
                        <button class="text-gray-500 text-sm font-medium">Mobile</button>
                        <span class="text-gray-400">|</span>
                        <button class="text-gray-500 text-sm font-medium">Desktop</button>
                    </div>
                </div>
                <div class="h-56 mt-8">
                    <canvas id="platformChart"></canvas>
                </div>
                <div class="mt-8">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                            <p class="text-sm">Meta Ads</p>
                        </div>
                        <p class="text-sm font-medium">4.1x</p>
                    </div>
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                            <p class="text-sm">Google Ads</p>
                        </div>
                        <p class="text-sm font-medium">3.5x</p>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-pink-500 rounded-full mr-2"></div>
                            <p class="text-sm">TikTok Ads</p>
                        </div>
                        <p class="text-sm font-medium">3.2x</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trend Analysis -->
        <div class="bg-white p-6 rounded-xl shadow-sm mb-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-semibold text-gray-800 text-lg">ROAS Trend by Market</h2>
                <select class="border border-gray-200 rounded-lg px-4 py-2 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
                    <option>Last 30 days</option>
                    <option selected>Last 90 days</option>
                    <option>Last 6 months</option>
                </select>
            </div>
            <div class="h-80">
                <canvas id="trendChart"></canvas>
            </div>
        </div>

        <!-- Detailed KPIs -->
        <div class="bg-white p-6 rounded-xl shadow-sm mb-8">
            <h2 class="font-semibold text-gray-800 text-lg mb-6">Detailed KPI Analysis</h2>
            
            <div id="kpi-tabs" class="flex space-x-4 mb-6 border-b border-gray-100">
                <button class="pb-3 px-2 text-blue-600 font-medium border-b-2 border-blue-500 transition-all" onclick="switchTab('kpi-overview')">Overview</button>
                <button class="pb-3 px-2 text-gray-500 font-medium hover:text-gray-700 transition-all" onclick="switchTab('kpi-ctr')">CTR</button>
                <button class="pb-3 px-2 text-gray-500 font-medium hover:text-gray-700 transition-all" onclick="switchTab('kpi-cvr')">CVR</button>
                <button class="pb-3 px-2 text-gray-500 font-medium hover:text-gray-700 transition-all" onclick="switchTab('kpi-cpm')">CPM</button>
            </div>

            <div id="kpi-overview" class="tab-content active">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-gray-700 font-medium mb-4">Top Performing Campaigns</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4127e902-ded2-40fd-88b8-f0ee5f6e6445.png" alt="Meta Ads icon" class="w-6 h-6">
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium">US - Summer Sale</p>
                                        <p class="text-xs text-gray-500">Meta Ads</p>
                                    </div>
                                </div>
                                <div>
                                    <p class="text-sm font-bold">5.4x</p>
                                    <p class="text-xs text-green-600">+12.8%</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center mr-3">
                                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/2a3e45a4-c60b-440e-8e35-4a21d5867eb4.png" alt="TikTok Ads icon" class="w-6 h-6">
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium">UK - New Arrivals</p>
                                        <p class="text-xs text-gray-500">TikTok Ads</p>
                                    </div>
                                </div>
                                <div>
                                    <p class="text-sm font-bold">4.7x</p>
                                    <p class="text-xs text-green-600">+8.4%</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/28f39ad5-e7f2-4da7-9fe2-82917fe7e434.png" alt="Google Ads icon" class="w-6 h-6">
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium">CA - Holiday Promo</p>
                                        <p class="text-xs text-gray-500">Google Ads</p>
                                    </div>
                                </div>
                                <div>
                                    <p class="text-sm font-bold">4.4x</p>
                                    <p class="text-xs text-red-600">-1.2%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-gray-700 font-medium mb-4">Conversion Funnel Metrics</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div class="bg-gray-50 p-4 rounded-lg text-center">
                                <p class="text-xs text-gray-500 mb-1">Impressions</p>
                                <p class="text-xl font-bold">1.8M</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg text-center">
                                <p class="text-xs text-gray-500 mb-1">CTR</p>
                                <p class="text-xl font-bold">2.3%</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg text-center">
                                <p class="text-xs text-gray-500 mb-1">CVR</p>
                                <p class="text-xl font-bold">1.6%</p>
                            </div>
                        </div>
                        <div class="h-64 mt-4">
                            <canvas id="funnelChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div id="kpi-ctr" class="tab-content">
                <div class="h-64">
                    <canvas id="ctrChart"></canvas>
                </div>
            </div>

            <div id="kpi-cvr" class="tab-content">
                <div class="h-64">
                    <canvas id="cvrChart"></canvas>
                </div>
            </div>

            <div id="kpi-cpm" class="tab-content">
                <div class="h-64">
                    <canvas id="cpmChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Budget Reallocation -->
        <div class="bg-white p-6 rounded-xl shadow-sm mb-8">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-semibold text-gray-800 text-lg">Budget Reallocation Proposal</h2>
                <button class="text-blue-600 text-sm font-medium">Export Recommendations</button>
            </div>
            <div class="flex flex-col md:flex-row gap-6">
                <div class="md:w-1/2">
                    <h3 class="text-gray-700 font-medium mb-4">Current Allocation</h3>
                    <div class="h-64">
                        <canvas id="currentBudgetChart"></canvas>
                    </div>
                    <div class="mt-4 flex justify-between text-sm">
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">Meta Ads</p>
                            </div>
                            <p class="font-medium">$650K (45%)</p>
                        </div>
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">Google Ads</p>
                            </div>
                            <p class="font-medium">$550K (38%)</p>
                        </div>
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-pink-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">TikTok Ads</p>
                            </div>
                            <p class="font-medium">$250K (17%)</p>
                        </div>
                    </div>
                </div>
                <div class="md:w-1/2">
                    <h3 class="text-gray-700 font-medium mb-4">Recommended Allocation</h3>
                    <div class="h-64">
                        <canvas id="proposedBudgetChart"></canvas>
                    </div>
                    <div class="mt-4 flex justify-between text-sm">
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">Meta Ads</p>
                            </div>
                            <p class="font-medium">$740K (50%) <span class="text-green-600">+90K</span></p>
                        </div>
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-red-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">Google Ads</p>
                            </div>
                            <p class="font-medium">$500K (34%) <span class="text-red-600">-50K</span></p>
                        </div>
                        <div>
                            <div class="flex items-center mb-1">
                                <div class="w-3 h-3 bg-pink-500 rounded-full mr-2"></div>
                                <p class="text-gray-600">TikTok Ads</p>
                            </div>
                            <p class="font-medium">$240K (16%) <span class="text-red-600">-10K</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Summary -->
        <div class="bg-white p-6 rounded-xl shadow-sm">
            <h2 class="font-semibold text-gray-800 text-lg mb-4">Key Findings</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="p-4 border border-gray-100 rounded-lg">
                    <h3 class="text-gray-700 font-medium mb-2 flex items-center">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        Top Performing Market
                    </h3>
                    <p class="text-sm text-gray-600">USA leads with ROAS 4.2x (15% above benchmark). Recommend increasing budget allocation by 8-10%.</p>
                </div>
                <div class="p-4 border border-gray-100 rounded-lg">
                    <h3 class="text-gray-700 font-medium mb-2 flex items-center">
                        <div class="w-2 h-2 bg-red-500 rounded-full mr-2"></div>
                        Improvement Opportunity
                    </h3>
                    <p class="text-sm text-gray-600">Japan campaigns underperforming (ROAS 2.8x). Review creative assets and audience targeting.</p>
                </div>
                <div class="p-4 border border-gray-100 rounded-lg">
                    <h3 class="text-gray-700 font-medium mb-2 flex items-center">
                        <div class="w-2 h-2 bg-blue-500 rounded-full mr-2"></div>
                        Platform Efficiency
                    </h3>
                    <p class="text-sm text-gray-600">Meta Ads delivers 4.1x ROAS (highest among platforms). Consider shifting some budgets from Google (3.5x).</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize all charts
        document.addEventListener('DOMContentLoaded', function() {
            // Platform Performance Chart
            const platformCtx = document.getElementById('platformChart').getContext('2d');
            new Chart(platformCtx, {
                type: 'bar',
                data: {
                    labels: ['USA', 'UK', 'Germany', 'Australia', 'Japan', 'Canada'],
                    datasets: [
                        {
                            label: 'Meta Ads',
                            data: [4.8, 4.3, 3.9, 3.5, 3.1, 4.5],
                            backgroundColor: '#3B82F6',
                            borderRadius: 6
                        },
                        {
                            label: 'Google Ads',
                            data: [3.9, 3.7, 3.3, 2.9, 2.5, 4.0],
                            backgroundColor: '#EF4444',
                            borderRadius: 6
                        },
                        {
                            label: 'TikTok Ads',
                            data: [3.6, 4.1, 3.1, 2.8, 2.4, 3.5],
                            backgroundColor: '#EC4899',
                            borderRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                drawBorder: false
                            },
                            ticks: {
                                callback: function(value) {
                                    return value + 'x';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // ROAS Trend Chart
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
                    datasets: [
                        {
                            label: 'USA',
                            data: [3.8, 3.6, 3.9, 4.1, 4.0, 4.2, 4.3, 4.1, 4.2],
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        },
                        {
                            label: 'UK',
                            data: [3.7, 3.5, 3.6, 3.7, 3.8, 3.9, 4.0, 3.8, 3.9],
                            borderColor: '#10B981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        },
                        {
                            label: 'Germany',
                            data: [3.3, 3.4, 3.5, 3.4, 3.5, 3.5, 3.6, 3.4, 3.5],
                            borderColor: '#F59E0B',
                            backgroundColor: 'rgba(245, 158, 11, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        },
                        {
                            label: 'Australia',
                            data: [3.0, 3.1, 3.2, 3.1, 3.0, 3.1, 3.2, 3.0, 3.1],
                            borderColor: '#F97316',
                            backgroundColor: 'rgba(249, 115, 22, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        },
                        {
                            label: 'Japan',
                            data: [2.9, 2.8, 2.9, 2.8, 2.7, 2.8, 2.9, 2.7, 2.8],
                            borderColor: '#EF4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        },
                        {
                            label: 'Canada',
                            data: [3.8, 3.9, 4.0, 3.9, 4.0, 4.1, 4.2, 4.0, 4.0],
                            borderColor: '#8B5CF6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            tension: 0.3,
                            fill: true,
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 2.5,
                            grid: {
                                drawBorder: false
                            },
                            ticks: {
                                callback: function(value) {
                                    return value + 'x';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y + 'x ROAS';
                                }
                            }
                        },
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Funnel Chart
            const funnelCtx = document.getElementById('funnelChart').getContext('2d');
            new Chart(funnelCtx, {
                type: 'bar',
                data: {
                    labels: ['Impressions', 'CTR', 'Clicks', 'CVR', 'Conversions'],
                    datasets: [{
                        data: [1800000, 2.3, 41400, 1.6, 662],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)',
                            'rgba(16, 185, 129, 0.7)',
                            'rgba(234, 179, 8, 0.7)',
                            'rgba(249, 115, 22, 0.7)',
                            'rgba(139, 92, 246, 0.7)'
                        ],
                        borderColor: [
                            'rgba(59, 130, 246, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(234, 179, 8, 1)',
                            'rgba(249, 115, 22, 1)',
                            'rgba(139, 92, 246, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    if (value < 100) return value + '%';
                                    return (value / 1000).toFixed(0) + 'k';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.parsed.y < 100) {
                                        return context.parsed.y + '%';
                                    } else if (context.parsed.y < 1000000) {
                                        return (context.parsed.y / 1000).toFixed(0) + 'k';
                                    } else {
                                        return (context.parsed.y / 1000000).toFixed(1) + 'M';
                                    }
                                }
                            }
                        }
                    }
                }
            });

            // CTR Chart
            const ctrCtx = document.getElementById('ctrChart').getContext('2d');
            new Chart(ctrCtx, {
                type: 'line',
                data: {
                    labels: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
                    datasets: [{
                        label: 'CTR %',
                        data: [2.8, 1.5, 3.2],
                        backgroundColor: 'rgba(139, 92, 246, 0.2)',
                        borderColor: 'rgba(139, 92, 246, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(139, 92, 246, 1)',
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // CVR Chart
            const cvrCtx = document.getElementById('cvrChart').getContext('2d');
            new Chart(cvrCtx, {
                type: 'line',
                data: {
                    labels: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
                    datasets: [{
                        label: 'CVR %',
                        data: [1.9, 1.8, 1.1],
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // CPM Chart
            const cpmCtx = document.getElementById('cpmChart').getContext('2d');
            new Chart(cpmCtx, {
                type: 'line',
                data: {
                    labels: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
                    datasets: [{
                        label: 'CPM $',
                        data: [7.5, 5.8, 5.4],
                        backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        borderColor: 'rgba(239, 68, 68, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(239, 68, 68, 1)',
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Budget Charts
            const currentBudgetCtx = document.getElementById('currentBudgetChart').getContext('2d');
            new Chart(currentBudgetCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
                    datasets: [{
                        data: [650, 550, 250],
                        backgroundColor: [
                            '#3B82F6',
                            '#EF4444',
                            '#EC4899'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': $' + context.raw + 'K';
                                }
                            }
                        }
                    },
                    cutout: '70%'
                }
            });

            const proposedBudgetCtx = document.getElementById('proposedBudgetChart').getContext('2d');
            new Chart(proposedBudgetCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Meta Ads', 'Google Ads', 'TikTok Ads'],
                    datasets: [{
                        data: [740, 500, 240],
                        backgroundColor: [
                            '#3B82F6',
                            '#EF4444',
                            '#EC4899'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': $' + context.raw + 'K';
                                }
                            }
                        }
                    },
                    cutout: '70%'
                }
            });

            // Platform selector functionality
            const platformButtons = document.querySelectorAll('.platform-selector');
            platformButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const platform = this.dataset.platform;
                    platformButtons.forEach(btn => {
                        btn.classList.remove('active', 'text-blue-600');
                        btn.classList.add('text-gray-500');
                    });
                    this.classList.add('active', 'text-blue-600');
                    this.classList.remove('text-gray-500');
                    
                    // Update charts based on selected platform
                    updateCharts(platform);
                });
            });

            function updateCharts(platform) {
                // Add logic here to filter charts based on selected platform
                console.log('Filtering charts for platform:', platform);
            }
        });

        // Tab switching function
        function switchTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).classList.add('active');
            
            // Update tab buttons
            const tabButtons = document.querySelectorAll('#kpi-tabs button');
            tabButtons.forEach(button => {
                button.classList.remove('text-blue-600', 'border-b-2', 'border-blue-500');
                button.classList.add('text-gray-500');
            });
            
            // Activate clicked tab button (get it based on tabId)
            const activeButton = document.querySelector(`[onclick="switchTab('${tabId}')"]`);
            if (activeButton) {
                activeButton.classList.add('text-blue-600', 'border-b-2', 'border-blue-500');
                activeButton.classList.remove('text-gray-500');
            }
        }
    </script>
</body>
</html>
